(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{2247:function(e,t,r){Promise.resolve().then(r.bind(r,7846))},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(5250),a=r.n(s)},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8816:function(e,t,r){"use strict";function s(){let e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return t&&t.accessToken?{"x-access-token":t.accessToken}:{}}r.d(t,{Z:function(){return s}})},6652:function(e,t,r){"use strict";var s=r(8816);let a="https://api.welovelaundry.com/api/auth/";class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async login(e,t){return fetch("".concat(a,"signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(e=>e.json()).then(e=>(e.accessToken&&localStorage.setItem("user",JSON.stringify(e)),e))}async update(e,t,r,n,o,l,c,i,d){return fetch("".concat(a,"update"),{method:"POST",headers:{"Content-Type":"application/json",...(0,s.Z)()},body:JSON.stringify({userid:e,username:t,firstname:r,lastname:n,email:o,phone:l,password:c,roles:i,accessToken:d})}).then(e=>e.json()).then(e=>(console.log(e),e.accessToken&&localStorage.setItem("user",JSON.stringify(e)),e))}logout(){localStorage.removeItem("user")}async register(e,t,r){return fetch("".concat(a,"signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:r})}).then(e=>e.json()).catch(e=>console.error("Error registering:",e))}getCurrentUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}constructor(){}}t.Z=n.getInstance()},7846:function(e,t,r){"use strict";r.r(t);var s=r(3827),a=r(8792),n=r(4090),o=r(7907),l=r(6123);r(2666);var c=r(6652);t.default=()=>{let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)("");(0,n.useEffect)(()=>{null!==c.Z.getCurrentUser()&&e.push("/")},[]);let p=async()=>{if(""==t||""==i){l.Am.warn("Please check email adress and password.");return}m(!0);try{let e=await c.Z.login(t,i);void 0!==e&&((null==e?void 0:e.message)?l.Am.warn(null==e?void 0:e.message):window.location.reload())}catch(e){x(e.response&&e.response.data&&e.response.data.message||e.message||e.toString()),l.Am.error("Server connection failed!"),l.Am.warning("Please try later.")}finally{m(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Ix,{}),(0,s.jsx)("section",{className:"relative z-10 overflow-hidden pb-16 pt-36 md:pb-20 lg:pb-28 lg:pt-[180px]",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"-mx-4 flex flex-wrap",children:(0,s.jsx)("div",{className:"w-full px-4",children:(0,s.jsxs)("div",{className:"shadow-three mx-auto max-w-[500px] rounded bg-white px-6 py-10 dark:bg-dark sm:p-[60px]",children:[(0,s.jsx)("h3",{className:"mb-3 text-center text-2xl font-bold text-black dark:text-white sm:text-3xl",children:"Sign in to your account"}),(0,s.jsx)("p",{className:"mb-11 text-center text-base font-medium text-body-color",children:"Login to your account for a faster checkout."}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{htmlFor:"email",className:"mb-3 block text-sm text-dark dark:text-white",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",value:t,onChange:e=>r(e.target.value),placeholder:"Enter your Email",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{htmlFor:"password",className:"mb-3 block text-sm text-dark dark:text-white",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",value:i,onChange:e=>d(e.target.value),placeholder:"Enter your Password",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,s.jsxs)("div",{className:"mb-8 flex flex-col justify-between sm:flex-row sm:items-center",children:[(0,s.jsx)("div",{className:"mb-4 sm:mb-0",children:(0,s.jsxs)("label",{htmlFor:"checkboxLabel",className:"flex cursor-pointer select-none items-center text-sm font-medium text-body-color",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"checkbox",id:"checkboxLabel",className:"sr-only"}),(0,s.jsx)("div",{className:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-body-color border-opacity-20 dark:border-white dark:border-opacity-10",children:(0,s.jsx)("span",{className:"opacity-0",children:(0,s.jsx)("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})})})})]}),"Keep me signed in"]})}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{href:"#0",className:"text-sm font-medium text-primary hover:underline",children:"Forgot Password?"})})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("button",{onClick:p,className:"shadow-submit dark:shadow-submit-dark flex w-full items-center justify-center rounded-sm bg-primary px-9 py-4 text-base font-medium text-white duration-300 hover:bg-primary/90",children:"Sign in"})}),(0,s.jsxs)("p",{className:"text-center text-base font-medium text-body-color",children:["Donâ€™t you have an account?"," ",(0,s.jsx)(a.default,{href:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})]})})})})})]})}}},function(e){e.O(0,[250,645,971,69,744],function(){return e(e.s=2247)}),_N_E=e.O()}]);