"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{8816:function(e,r,t){t.d(r,{Z:function(){return a}});function a(){let e=localStorage.getItem("user"),r=e?JSON.parse(e):null;return r&&r.accessToken?{"x-access-token":r.accessToken}:{}}},6652:function(e,r,t){var a=t(8816);let o="https://api.welovelaundry.uk/api/auth/";class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}async login(e,r){return fetch("".concat(o,"signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}).then(e=>e.json()).then(e=>(e.accessToken&&localStorage.setItem("user",JSON.stringify(e)),e))}async update(e,r,t,s,l,d,n,i,c){return fetch("".concat(o,"update"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({userid:e,username:r,firstname:t,lastname:s,email:l,phone:d,password:n,roles:i,accessToken:c})}).then(e=>e.json()).then(e=>(console.log(e),e.accessToken&&localStorage.setItem("user",JSON.stringify(e)),e))}logout(){localStorage.removeItem("user")}async register(e,r,t){return fetch("".concat(o,"signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:r,password:t})}).then(e=>e.json()).catch(e=>console.error("Error registering:",e))}getCurrentUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}constructor(){}}r.Z=s.getInstance()},5816:function(e,r,t){var a=t(8816);let o="https://api.welovelaundry.uk/api/order/";class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}async register(e,r,t,s,l,d){return fetch("".concat(o,"register"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({userid:e,addressdata:r,orderlist:t,preferences:s,collectiondelivery:l,contact:d})}).then(e=>e.json()).catch(e=>console.error("Error registering:",e))}async getAllOrders(){return fetch("".concat(o,"all"),{method:"GET",headers:{...(0,a.Z)()}}).then(e=>e.json())}async getAllOrdersByDate(e){return fetch("".concat(o,"allbydate"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({date:e})}).then(e=>e.json())}async getAllOrdersByCollectionDate(e){return console.log(e),fetch("".concat(o,"allbycollectiondate"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({date:e})}).then(e=>e.json())}async getAllOrdersByDeliveryDate(e){return fetch("".concat(o,"allbydeliverydate"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({date:e})}).then(e=>e.json())}async getOrderById(e){return fetch("".concat(o,"orderbyid"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({id:e})}).then(e=>e.json())}async getOrderByUserId(e){return fetch("".concat(o,"orderbyuserid"),{method:"POST",headers:{"Content-Type":"application/json",...(0,a.Z)()},body:JSON.stringify({id:e})}).then(e=>e.json())}constructor(){}}r.Z=s.getInstance()},8861:function(e,r,t){var a=t(3827),o=t(4090),s=t(5816);r.Z=e=>{var r,t,l,d,n,i,c,u,m,h,x,p,b,y,v,g,f,k,j,N,w,S,C,O,T,D,A,E,I,P,Z,B,J,F,L,U,R,M;let{isOpen:W,Id:_,onClose:H,children:q}=e,[z,G]=(0,o.useState)(null),[K,Q]=(0,o.useState)(!1),V=async()=>{let e=await s.Z.getOrderById(_);void 0!==e&&e&&(G(e),Q(!0))};return(0,o.useEffect)(()=>{V().catch(e=>console.error("Failed to fetch orders:",e))},[]),(0,a.jsx)("div",{className:"fixed z-[99999] inset-0 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,a.jsx)("div",{className:"absolute inset-0 duration-300 ease-in-out bg-gray-200 opacity-75"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,a.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[q,(0,a.jsxs)("div",{className:"text-3xl leading-6 font-medium text-gray-900 mb-3 mt-3 text-center",children:["OrderID:  ",null==z?void 0:null===(r=z.order)||void 0===r?void 0:r.id]}),(0,a.jsx)("div",{className:"font-bold",children:"Address:"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(null==z?void 0:null===(t=z.order)||void 0===t?void 0:t.postcode)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Post Code: ",null==z?void 0:null===(l=z.order)||void 0===l?void 0:l.postcode]}),(null==z?void 0:null===(d=z.order)||void 0===d?void 0:d.address)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Address: ",null==z?void 0:null===(n=z.order)||void 0===n?void 0:n.address]}),(null==z?void 0:null===(i=z.order)||void 0===i?void 0:i.manual)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Address: ",null==z?void 0:null===(c=z.order)||void 0===c?void 0:c.manual]}),(null==z?void 0:null===(u=z.order)||void 0===u?void 0:u.detail)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Address: ",null==z?void 0:null===(m=z.order)||void 0===m?void 0:m.detail]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Type: ",null==z?void 0:null===(h=z.order)||void 0===h?void 0:h.type]}),(null==z?void 0:null===(x=z.order)||void 0===x?void 0:x.hotelname)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Hotel Name: ",null==z?void 0:null===(p=z.order)||void 0===p?void 0:p.hotelname]}),(null==z?void 0:null===(b=z.order)||void 0===b?void 0:b.hotelnumber)!=""&&(0,a.jsxs)("p",{className:"text-gray-500",children:["Hotel Number: ",null==z?void 0:null===(y=z.order)||void 0===y?void 0:y.hotelnumber]}),(null==z?void 0:null===(v=z.order)||void 0===v?void 0:v.positionchecked)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-500",children:["Lat: ",null==z?void 0:null===(g=z.order)||void 0===g?void 0:g.lat]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Lng: ",null==z?void 0:null===(f=z.order)||void 0===f?void 0:f.lng]})]}),(0,a.jsx)("div",{className:"font-bold",children:"Preferences:"}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Wash Mode: ",null==z?void 0:null===(k=z.order)||void 0===k?void 0:k.washmode]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Detergent: ",null==z?void 0:null===(j=z.order)||void 0===j?void 0:j.detergent]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Fabric Softener: ",null==z?void 0:null===(N=z.forder)||void 0===N?void 0:N.abricsoftener]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["White: ",null==z?void 0:null===(w=z.order)||void 0===w?void 0:w.white]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Color & Dirt Collector: ",null==z?void 0:null===(S=z.order)||void 0===S?void 0:S.coloranddirtcollector]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Number Of Loads: ",null==z?void 0:null===(C=z.order)||void 0===C?void 0:C.numberofloads]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Tumble Dryer: ",null==z?void 0:null===(O=z.order)||void 0===O?void 0:O.tumbledryer]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Finishing ",null==z?void 0:null===(T=z.order)||void 0===T?void 0:T.finishing]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Starch On Shirts: ",null==z?void 0:null===(D=z.order)||void 0===D?void 0:D.starchonshirts]}),(0,a.jsx)("div",{className:"font-bold",children:"Collection & Delivery:"}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Collection Date: ",new Date(Number(null==z?void 0:null===(A=z.order)||void 0===A?void 0:A.collectiondate)).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short"})]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Collection Time: ",null==z?void 0:null===(E=z.order)||void 0===E?void 0:E.collectiontime]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Delivery Date: ",new Date(Number(null==z?void 0:null===(I=z.order)||void 0===I?void 0:I.deliverydate)).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short"})]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Delivery Time: ",null==z?void 0:null===(P=z.order)||void 0===P?void 0:P.deliverytime]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Frequencies: ",null==z?void 0:null===(Z=z.order)||void 0===Z?void 0:Z.frequencies]}),(null==z?void 0:null===(B=z.order)||void 0===B?void 0:B.orderinstructions)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"text-gray-500",children:["Order Instructions: ",null==z?void 0:null===(J=z.order)||void 0===J?void 0:J.orderinstructions]})}),(0,a.jsx)("div",{className:"font-bold",children:"Contact Information:"}),(0,a.jsxs)("p",{className:"text-gray-500",children:["First Name: ",null==z?void 0:null===(F=z.order)||void 0===F?void 0:F.firstname]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Last Name: ",null==z?void 0:null===(L=z.order)||void 0===L?void 0:L.lastname]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Email: ",null==z?void 0:null===(U=z.order)||void 0===U?void 0:U.email]}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Phone: ",null==z?void 0:null===(R=z.order)||void 0===R?void 0:R.phone]}),(0,a.jsx)("div",{className:"font-bold",children:"Order Items:"}),null==z?void 0:null===(M=z.items)||void 0===M?void 0:M.map((e,r)=>(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("p",{className:"grow text-gray-500",children:e.name}),(0,a.jsx)("p",{className:"w-[25px] self-end text-gray-500",children:e.count}),(0,a.jsxs)("p",{className:"w-[70px] self-end text-gray-500",children:["\xa3",Number(e.count*e.price).toFixed(2)]})]},r))]})]}),(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:(0,a.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:H,children:"Close"})})]})]})})}},743:function(e,r,t){var a=t(3827),o=t(4090),s=t(6123);t(2666);var l=t(6652);r.Z=()=>{let[e,r]=(0,o.useState)(""),[t,d]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[x,p]=(0,o.useState)(""),[b,y]=(0,o.useState)(""),[v,g]=(0,o.useState)(!1),[f,k]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=l.Z.getCurrentUser();r(e.username),d(e.firstname),i(e.lastname),u(e.email),h(e.phone)},[]);let j=async()=>{if(""==e||""==t||""==n||""==m||""==c||""==x)s.Am.warn("Please check fields correctly.");else{g(!0);let r=l.Z.getCurrentUser();try{let a=await l.Z.update(r.id,e,t,n,c,m,x,r.roles,r.accessToken);void 0!==a&&((null==a?void 0:a.message)?s.Am.warn("Please try again."):s.Am.success("User registered successfully!"))}catch(e){k(e.response&&e.response.data&&e.response.data.message||e.message||e.toString())}finally{g(!1)}}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"p-8 rounded-lg shadow-three bg-white dark:bg-gray-dark",children:[(0,a.jsx)("h1",{className:"mb-8 text-3xl font-bold leading-tight text-black dark:text-white sm:text-4xl sm:leading-tight",children:"Profile"}),(0,a.jsxs)("div",{className:"w-full mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"USER NAME"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Enter first name",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"w-full mb-5 grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"FIRST NAME"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>d(e.target.value),placeholder:"Enter first name",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"LAST NAME"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter last name",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"EMAIL ADDRESS"}),(0,a.jsx)("input",{type:"email",value:c,onChange:e=>u(e.target.value),placeholder:"Enter email address",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"PHONE"}),(0,a.jsx)("input",{type:"telephone",value:m,onChange:e=>h(e.target.value),placeholder:"79xxxxxxxx",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"PASSWORD"}),(0,a.jsx)("input",{type:"password",value:x,onChange:e=>p(e.target.value),placeholder:"Create your password",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]}),(0,a.jsxs)("div",{className:"mb-5 flex flex-wrap items-center justify-between dark:border-white dark:border-opacity-10",children:[(0,a.jsx)("h3",{className:"pb-2 font-bold leading-tight text-black dark:text-white",children:"CONFIRM PASSWORD"}),(0,a.jsx)("input",{type:"password",value:b,onChange:e=>y(e.target.value),placeholder:"Re-enter your password",className:"border-stroke dark:text-body-color-dark dark:shadow-two w-full rounded-sm border bg-[#f8f8f8] px-6 py-3 text-base text-body-color outline-none transition-all duration-300 focus:border-primary dark:border-transparent dark:bg-[#2C303B] dark:focus:border-primary dark:focus:shadow-none"})]})]}),(0,a.jsx)("div",{className:"flex flex-row items-center justify-end space-x-2",children:(0,a.jsx)("button",{onClick:j,className:"rounded-lg bg-slate-200 px-8 py-4 text-base text-center font-semibold text-black duration-300 ease-in-out hover:bg-slate-200/60",children:"\xa0\xa0Save\xa0\xa0"})})]})})}}}]);